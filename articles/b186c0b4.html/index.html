<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css"><script src="/lib/pace/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"wangng.com",root:"/",scheme:"Pisces",version:"7.7.2",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="1.字符串声名字符串是存储在内存的连续字节中的一系列字符。C++处理字符串的方式有两种。第一种来自C语言，常被称为C风格字符串（C- style string）。另一种基于 string类库的方法。"><meta property="og:type" content="article"><meta property="og:title" content="C++之字符串"><meta property="og:url" content="https://wangng.com/articles/b186c0b4.html/index.html"><meta property="og:site_name" content="jackcywang&#39;s blog"><meta property="og:description" content="1.字符串声名字符串是存储在内存的连续字节中的一系列字符。C++处理字符串的方式有两种。第一种来自C语言，常被称为C风格字符串（C- style string）。另一种基于 string类库的方法。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://cdn.wangng.com/C++/C++%E4%B9%8B%E5%AD%97%E7%AC%A6%E4%B8%B2/image1.png"><meta property="og:image" content="http://cdn.wangng.com/C++/C++%E4%B9%8B%E5%AD%97%E7%AC%A6%E4%B8%B2/image2.png"><meta property="article:published_time" content="2019-07-02T15:30:53.000Z"><meta property="article:modified_time" content="2020-04-26T07:29:11.595Z"><meta property="article:author" content="jackcywang"><meta property="article:tag" content="C++"><meta property="article:tag" content="字符串"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://cdn.wangng.com/C++/C++%E4%B9%8B%E5%AD%97%E7%AC%A6%E4%B8%B2/image1.png"><link rel="canonical" href="https://wangng.com/articles/b186c0b4.html/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>C++之字符串 | jackcywang's blog</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?8ce866754ae6c95a7238894d36ad3ab0";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div> <a href="https://github.com/jackcywang" target="_blank" rel="noopener" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#64ceaa;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><div><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">jackcywang's blog</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">梦想与现实只在一念之间</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li></ul></nav></div></header><div class="reading-progress-bar"></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content"><div class="posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://wangng.com/articles/b186c0b4.html/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="jackcywang"><meta itemprop="description" content="不经一番彻骨寒,怎得梅花扑鼻香"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="jackcywang's blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> C++之字符串</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-07-02 23:30:53" itemprop="dateCreated datePublished" datetime="2019-07-02T23:30:53+08:00">2019-07-02</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i></span> <span class="post-meta-item-text">Valine：</span><a title="valine" href="/articles/b186c0b4.html/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/articles/b186c0b4.html/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>4.7k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>4 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="1-字符串声名"><a href="#1-字符串声名" class="headerlink" title="1.字符串声名"></a>1.字符串声名</h3><p>字符串是存储在内存的连续字节中的一系列字符。C++处理字符串的方式有两种。第一种来自C语言，常被称为C风格字符串（C- style string）。另一种基于 string类库的方法。</p><a id="more"></a><p>存储在连续字节中的一系列字符意味着可以将字符串存储在char数组中，其中每个字符都位于自己的数组元素中。C风格字符串具有一种特殊的性质：以空字符（ null character）结尾，空字符被写作\0，其 ASCII I码为0，用来标记字符串的结尾。例如，请看下面两个声明</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> dog[<span class="number">8</span>]=&#123;<span class="string">'b'</span>,<span class="string">'e'</span>,<span class="string">'a'</span>,<span class="string">'u'</span>,<span class="string">' '</span>,<span class="string">'I'</span>,<span class="string">'i'</span>&#125;;       <span class="comment">// not a string!</span></span><br><span class="line"><span class="keyword">char</span> dog[<span class="number">8</span>]=&#123;<span class="string">'f'</span>,<span class="string">'a'</span>,<span class="string">'t'</span>,<span class="string">'e'</span>,<span class="string">'s'</span>,<span class="string">'s'</span>,<span class="string">'a'</span>,<span class="string">'\0'</span>&#125;;   <span class="comment">// a string!</span></span><br></pre></td></tr></table></figure><p>这两个数组都是char数组，但只有第二个数组是字符串。空字符对C风格字符串而言至关重要。例如C++有很多处理字符串的函数，其中包括cout使用的那些函数。它们都逐个地处理字符串中的字符，直到达空字符为止。如果使用cout显示上面的cat这样的字符串，则将显示前7个字符，发现空字符后停止但是，如果使用cout显示上面的dog数组（它不是字符串），cout将打印出数组中的8个字母，并接着内存中随后的各个字节解释为要打印的字符，直到遇到空字符为止。由于空字符（实际上是被设置为0的字节）在内存中很常见，因此这一过程将很快停止。但尽管如此，还是不应将不是字符串的字符数组当作字符串处理。</p><ul><li>字符串的简化定义</li></ul><p>只需使用一个用引号括起的字符串即可，这种字符串被称为字符串常量（ string constant）或字符串字面值（ string literal），如下所示：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> bird[<span class="number">11</span>] = <span class="string">"Mr. Cheeps"</span>; </span><br><span class="line"><span class="keyword">char</span> fish[] = <span class="string">"Bubbles"</span>;</span><br></pre></td></tr></table></figure><p>用引号扩起的字符串隐式的包括了结尾的空字符(‘\0’),当然，应确保数组足够大，能够存储字符串中所有字符—包括空字符。使用字符串常量初始化字符数组是这样的一种情况，即让编译器计算元素数目更为安全。让数组比字符串长没有什么害处，只是会浪费一些空间而已。这是因为处理字符串的函数根据空字符的位置，而不是数组长度来进行处理。C++对字符串长度没有限制</p><p><img src="http://cdn.wangng.com/C++/C++之字符串/image1.png" alt></p><blockquote><p>注意，字符串常量（使用双引号）不能与字符常量（使用单引号）互换。字符常量（如’S’）是字符串编码的简写表示。在ASCⅡ系统上，’S’只是83的另一种写法，因此，下面的语句将83赋给shirt_size</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> shirt_size = <span class="string">'s'</span>;      <span class="comment">// that's fine</span></span><br></pre></td></tr></table></figure><p>但”S”不是字符常量，它表示的是两个字符(字符S和\0)组成的字符串。更糟糕的是，”S”实际表示是字符串所在的内存地址，因此下面的语句试图将一个内存地址赋给shirt_size;</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> shirt_size = <span class="string">"S"</span>;  <span class="comment">// illegal type mismatch</span></span><br></pre></td></tr></table></figure><h3 id="2-面向行的输入"><a href="#2-面向行的输入" class="headerlink" title="2.面向行的输入"></a>2.面向行的输入</h3><p>1、cin.getline()</p><p>getline()函数读取整行，它使用通过回车键输入的换行符来确定输入结尾。要调用这种方法，可以使用 cin.getline()。该函数有两个参数。第一个参数是用来存储输入行的数组的名称，第二个参数是要读取的字符数。如果这个参数为20，则函数最多读取19个字符，余下的空间用于存储自动在结尾处添加的空字符。 getline（）成员函数在读取指定数目的字符或遇到换行符时停止读取。例如，假设要使用 getline()将姓名读入到一个包含20个元素的name数组中。可以使用这样的函数调用:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span>.getline(name,<span class="number">20</span>)</span><br></pre></td></tr></table></figure><p><img src="http://cdn.wangng.com/C++/C++之字符串/image2.png" alt></p><p>getline()函数每次读取一行。它通过换行符来确定行尾，但不保存换行符。相反，在存储字符串时，它用空字符来替换换行符（参见图4.5）</p><p>2、cin.get()</p><p>我们来试试另一种方法。 Istream类有另一个名为get()的成员函数，该函数有几种变体。其中一种变体的工作方式与 getline()类似，它们接受的参数相同，解释参数的方式也相同，并且都读取到行尾。但get并不再读取并丢弃换行符，而是将其留在输入队列中。假设我们连续两次调用get():</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span>.<span class="built_in">get</span>(name,ArSize);</span><br><span class="line"><span class="built_in">cin</span>.<span class="built_in">get</span>(dessert,ArSize); <span class="comment">// a problem</span></span><br></pre></td></tr></table></figure><p>由于第一次调用后，换行符将留在输入队列中，因此第二次调用时看到的第一个字符便是换行符。因此get()认为已到达行尾，而没有发现任何可读取的内容。如果不借助于帮助，get()将不能跨过该换行符幸运的是，get()有另一种变体。使用不带任何参数的 cin.get()调用可读取下一个字符（即使是换行符），因此可以用它来处理换行符，为读取下一行输入做好准备。也就是说，可以采用下面的调用序列：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span>.<span class="built_in">get</span>(name,ArSize);        <span class="comment">//read first line</span></span><br><span class="line"><span class="built_in">cin</span>.<span class="built_in">get</span>()                    <span class="comment">//read new line</span></span><br><span class="line"><span class="built_in">cin</span>.<span class="built_in">get</span>(dessert,Arsize);     <span class="comment">// read second line</span></span><br></pre></td></tr></table></figure><p>另一种使用get()的方式是将两个类成员函数拼接起来（合并），如下所示:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span>.<span class="built_in">get</span>(name,ArSize).<span class="built_in">get</span>();   <span class="comment">//concatenate member functions</span></span><br></pre></td></tr></table></figure><p>之所以可以这样做，是由于 cin. get(name, AsSize)返回一个cin对象，该对象随后将被用来调用get()函数。同样，下面的语句将把输入中连续的两行分别读入到数组name1和name2中，其效果与两次调用cin.getline()相同</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span>.getline(naem1,ArSize).getline(name2,ArSize)</span><br></pre></td></tr></table></figure><h3 id="3-string类简介"><a href="#3-string类简介" class="headerlink" title="3.string类简介"></a>3.string类简介</h3><p>ISO/ANSI C++98标准通过添加 string类扩展了C++库，因此现在可以 string类型的变量（使用C+的话说是对象）而不是字符数组来存储字符串。您将看到， string类使用起来比数组简单，同时提供了将字符串作为一种数据类型的表示方法。要使用 string类，必须在程序中包含头文件 string。 string类位于名称空间std中，因此您必须提供一条using编译指令，或者使用std::string来引用它。 string类定义隐藏了字符串的数组性质，让您能够像处理普通变量那样处理字符串。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> str1;      <span class="comment">//creat an empty string object</span></span><br><span class="line"><span class="built_in">string</span> str2 = <span class="string">"panther"</span>;   <span class="comment">//creat an initialized string</span></span><br></pre></td></tr></table></figure><p>类设计让程序能够自动处理 string的大小。例如，strl的声明创建一个长度为0的 string对象，但程序将输入读取到sr1中时，将自动调整strl的长度：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cin</span> &gt;&gt; str1;    <span class="comment">//str1 resized to fit input</span></span><br></pre></td></tr></table></figure><p>这使得与使用数组相比，使用 string对象更方便，也更安全。从理论上说，可以将char数组视为一组用于存储一个字符串的char存储单元，而 string类变量是一个表示字符串的实体。</p><h4 id="3-1-C-11-字符串初始化"><a href="#3-1-C-11-字符串初始化" class="headerlink" title="3.1 C++11 字符串初始化"></a>3.1 C++11 字符串初始化</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> first_data[] = &#123;<span class="string">"le Charpin Dodu"</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> second_data[] &#123;<span class="string">"The Elegant Plate"</span>&#125;;</span><br><span class="line"><span class="built_in">string</span> third_data = &#123;<span class="string">"The Bread Bowl"</span>&#125;;</span><br><span class="line"><span class="built_in">string</span> fourth_data &#123;<span class="string">"Hank Fine Eats"</span>&#125;;</span><br></pre></td></tr></table></figure><h4 id="3-2-赋值、拼接和附加"><a href="#3-2-赋值、拼接和附加" class="headerlink" title="3.2 赋值、拼接和附加"></a>3.2 赋值、拼接和附加</h4><p>使用 string类时，某些操作比使用数组时更简单。例如，不能将一个数组赋给另一个数组，但可以将一个 string对象赋给另一个 string对象：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> charrl[<span class="number">20</span>];     <span class="comment">//create an empty array </span></span><br><span class="line"><span class="keyword">char</span> charr2[<span class="number">20</span>]=<span class="string">"jaguar"</span>;  <span class="comment">//create an initialized array</span></span><br><span class="line"><span class="built_in">string</span> str1;         <span class="comment">//create an empty string object </span></span><br><span class="line"><span class="built_in">string</span> str2 =<span class="string">"panther"</span>;   <span class="comment">//create an initialized string </span></span><br><span class="line">charr1 = charr2;    <span class="comment">//INVALID, no array assignment</span></span><br><span class="line">strl = str2;       <span class="comment">//VALID, object assignment ok</span></span><br></pre></td></tr></table></figure><p>string类简化了字符串合并操作，可以使用运算符+将两个string对象合并起来，还可以使用运算符符串+=附加到 string对象的末尾。继续前面的代码，可以这样做：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sting str3;</span><br><span class="line">str3 = str1 + str2;     <span class="comment">//assign str3 the joined strings</span></span><br><span class="line">str1 += str2;         <span class="comment">// add str2 to the end of str1</span></span><br></pre></td></tr></table></figure><h4 id="3-3-string-其他操作"><a href="#3-3-string-其他操作" class="headerlink" title="3.3 string 其他操作"></a>3.3 string 其他操作</h4><p>在C++新增 string类之前，程序员也需要完成诸如给字符串赋值等工作。对于C风格字符串程序员使用C语言库中的函数来完成这些任务。头文件 cstring（以前为 string. h）提供了这些函数。例如，可以使用函数 strcpy()将字符串复制到字符数组中，使用函数 strcat()将字符串附加到字符数组末尾：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">strcpy</span>(charr1,charr2);   <span class="comment">//copy charr2 to charr1</span></span><br><span class="line"><span class="built_in">strcat</span>(charr1,charr2);   <span class="comment">//append contents of charr2 to charr1</span></span><br><span class="line"><span class="built_in">strlen</span>(charr1);          <span class="comment">// return the length of charr1</span></span><br></pre></td></tr></table></figure><p>string类提供了一系列针对字符串的操作</p><ol><li><p>append()— 在字符串的末尾添加字符</p></li><li><p>find()—在字符串中查找字符串</p></li><li><p>insert()—插入字符</p></li><li><p>length()—返回字符串的长度</p></li><li><p>replace()—替换字符串</p></li><li><p>substr()—返回某个字符串</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//定义一个string类对象</span></span><br><span class="line">    <span class="built_in">string</span> http = <span class="string">"www.runoob.com"</span>;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//打印字符串长度</span></span><br><span class="line">   <span class="built_in">cout</span>&lt;&lt;http.length()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//拼接</span></span><br><span class="line">    http.append(<span class="string">"/C++"</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;http&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//打印结果为：www.runoob.com/C++</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除</span></span><br><span class="line">    <span class="keyword">int</span> pos = http.<span class="built_in">find</span>(<span class="string">"/C++"</span>); <span class="comment">//查找"C++"在字符串中的位置</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;pos&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    http.replace(pos, <span class="number">4</span>, <span class="string">""</span>);   <span class="comment">//从位置pos开始，之后的4个字符替换为空，即删除</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;http&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//找子串runoob</span></span><br><span class="line">    <span class="keyword">int</span> first = http.find_first_of(<span class="string">"."</span>); <span class="comment">//从头开始寻找字符'.'的位置</span></span><br><span class="line">    <span class="keyword">int</span> last = http.find_last_of(<span class="string">"."</span>);   <span class="comment">//从尾开始寻找字符'.'的位置</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;http.substr(first+<span class="number">1</span>, last-first<span class="number">-1</span>)&lt;&lt;<span class="built_in">endl</span>; <span class="comment">//提取"runoob"子串并打印</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> jackcywang</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://wangng.com/articles/b186c0b4.html/" title="C++之字符串">https://wangng.com/articles/b186c0b4.html/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/C/" rel="tag"><i class="fa fa-tag"></i> C++</a><a href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" rel="tag"><i class="fa fa-tag"></i> 字符串</a></div><div class="post-nav"><div class="post-nav-item"><a href="/articles/8f9a18b2.html/" rel="prev" title="C++之数组"><i class="fa fa-chevron-left"></i> C++之数组</a></div><div class="post-nav-item"> <a href="/articles/6181e072.html/" rel="next" title="C++之结构">C++之结构<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div><div class="tabs tabs-comment"><ul class="nav-tabs"><li class="tab"><a href="#comment-gitalk">gitalk</a></li><li class="tab"><a href="#comment-valine">valine</a></li></ul><div class="tab-content"><div class="tab-pane gitalk" id="comment-gitalk"><div class="comments" id="gitalk-container"></div></div><div class="tab-pane valine" id="comment-valine"><div class="comments" id="valine-comments"></div></div></div></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-字符串声名"><span class="nav-number">1.</span> <span class="nav-text">1.字符串声名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-面向行的输入"><span class="nav-number">2.</span> <span class="nav-text">2.面向行的输入</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-string类简介"><span class="nav-number">3.</span> <span class="nav-text">3.string类简介</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-C-11-字符串初始化"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 C++11 字符串初始化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-赋值、拼接和附加"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 赋值、拼接和附加</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-string-其他操作"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 string 其他操作</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">jackcywang</p><div class="site-description" itemprop="description">不经一番彻骨寒,怎得梅花扑鼻香</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">66</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">14</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">65</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/jackcywang" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jackcywang" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:yourname@gmail.com" title="E-Mail → mailto:yourname@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://blog.csdn.net/weixin_42631693" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;weixin_42631693" rel="noopener" target="_blank"><i class="fa fa-fw fa-CSDN"></i> CSDN</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/hao-han-zhong-de-yipian-xie" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;hao-han-zhong-de-yipian-xie" rel="noopener" target="_blank"><i class="fa fa-fw fa-知乎"></i> 知乎</a></span></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2019 – <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">jackcywang</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-area-chart"></i></span> <span title="站点总字数">261k</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span title="站点阅读时长">3:57</span></div><span id="sitetime"></span><script language="javascript">function siteTime(){window.setTimeout("siteTime()",1e3);var e=36e5,t=24*e,o=new Date,i=o.getFullYear(),n=o.getMonth()+1,a=o.getDate(),r=o.getHours(),s=o.getMinutes(),g=o.getSeconds(),l=Date.UTC(2020,1,1,15,0,0),m=Date.UTC(i,n,a,r,s,g)-l,M=Math.floor(m/t),T=Math.floor((m-M*t)/e),u=Math.floor((m-M*t-T*e)/6e4),f=Math.floor((m-M*t-T*e-6e4*u)/1e3);document.getElementById("sitetime").innerHTML=" 在此已等候"+M+" 天 "+T+" 小时 "+u+" 分钟 "+f+" 秒"}siteTime()</script><div> <a href="http://www.miitbeian.gov.cn/" rel="noopener" target="_blank">陕ICP备19023518号-1</a> <span class="post-meta-divider">|</span> <span style="padding-left:25px;background:url(/images/beian.png) no-repeat left center" rel="nofollow"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=61019002001038" rel="noopener" target="_blank">陕公网安备61019002001038号</a></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script async src="/js/cursor/fireworks.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/moment.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment-precise-range-plugin@1.3.0/moment-precise-range.min.js"></script><script>
    function timer() {
      var ages = moment.preciseDiff(moment(),moment(20191220,"YYYYMMDD"));
      //去除时分秒信息
      ages = ages.replace(/\s?\d{0,2}\s+hours?/, "");
      ages = ages.replace(/\s?\d{0,2}\s+minutes?/, "");
      ages = ages.replace(/\s?\d{0,2}\s+seconds?/, "");
      //将年月日转换为中文
      ages = ages.replace(/years?/, "年");
      ages = ages.replace(/months?/, "月");
      ages = ages.replace(/days?/, "天");
      ages = ages.replace(/\d+/g, '<span style="color:#1890ff">$&</span>');
      span.innerHTML = `footer.age ${ages}`;
    }
    var span = document.createElement("span");
    //插入到agesicon之后
    var agesicon = document.querySelector(".footer-ages-icon");
    document.querySelector(".copyright").insertBefore(span, agesicon.nextSibling);
    timer();
  </script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '500094376d9d18a3ed06',
      clientSecret: '71db1de3f4d19d73479a0ad6887d90081e8b7ca1',
      repo        : 'MyGitalk',
      owner       : 'jackcywang',
      admin       : ['jackcywang'],
      id          : 'b2add76d54b430f5e9f6a573d71a51b7',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script><script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'qHl8YMnB0b5OHNGx0AO0fjIE-gzGzoHsz',
      appKey     : 'wN3c6hhMnkEwVWOSLF0xQ3In',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script><script src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><script src="https://player.lmih.cn/player/js/player.js" id="myhk" key="158704924834" m="1"></script></body></html>